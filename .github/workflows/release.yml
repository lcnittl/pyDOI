# This workflow will create a release when a version tag ist pushed
# For more information see: https://github.com/softprops/action-gh-release

name: Create GitHub Release

on:
  push:
    tags: "v*.*.*"

jobs:
  deploy:
    name: Create Release
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Set output
        id: vars
        run: echo ::set-output name=tag::${GITHUB_REF#refs/*/}
      - name: Release
        uses: softprops/action-gh-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }} # Private Acces Token
          # GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # Does not trigger release
        with:
          name: Release ${{ steps.vars.outputs.tag }}
